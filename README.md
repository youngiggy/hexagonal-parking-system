# í—¥ì‚¬ê³ ë‚  ì£¼ì°¨ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œ

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen)](https://github.com/hexagonal-parking/parking-system)
[![Coverage](https://img.shields.io/badge/coverage-95%25-brightgreen)](https://github.com/hexagonal-parking/parking-system)
[![License](https://img.shields.io/badge/license-MIT-blue)](LICENSE)
[![Kotlin](https://img.shields.io/badge/kotlin-2.0.0-purple)](https://kotlinlang.org/)
[![Spring Boot](https://img.shields.io/badge/spring%20boot-3.5.3-green)](https://spring.io/projects/spring-boot)

í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ì ìš©í•˜ì—¬ TDD ë°©ë²•ë¡ ìœ¼ë¡œ ê°œë°œëœ ì£¼ì°¨ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#ê°œìš”)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [ê¸°ëŠ¥](#ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)
- [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
- [í…ŒìŠ¤íŠ¸](#í…ŒìŠ¤íŠ¸)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ê°œë°œ ê³¼ì •](#ê°œë°œ-ê³¼ì •)
- [ê¸°ì—¬í•˜ê¸°](#ê¸°ì—¬í•˜ê¸°)

## ğŸ¯ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜(Hexagonal Architecture)** íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ëœ ì£¼ì°¨ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. **TDD(Test-Driven Development)** ë°©ë²•ë¡ ì„ ì ìš©í•˜ì—¬ ë‹¨ê³„ë³„ë¡œ ê°œë°œë˜ì—ˆìœ¼ë©°, ë„ë©”ì¸ ì¤‘ì‹¬ì˜ ì„¤ê³„ì™€ ì™¸ë¶€ ì˜ì¡´ì„±ìœ¼ë¡œë¶€í„°ì˜ ë…ë¦½ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- ğŸ—ï¸ **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜**: í¬íŠ¸ì™€ ì–´ëŒ‘í„° íŒ¨í„´ìœ¼ë¡œ ë„ë©”ì¸ê³¼ ì¸í”„ë¼ ë¶„ë¦¬
- ğŸ§ª **TDD**: Red-Green-Refactor ì‚¬ì´í´ë¡œ ê°œë°œ
- ğŸ¢ **ë©€í‹°ëª¨ë“ˆ**: Gradle ê¸°ë°˜ ëª¨ë“ˆ ë¶„ë¦¬ë¡œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬
- ğŸŒ± **Spring Boot**: ì˜ì¡´ì„± ì£¼ì… ë° íŠ¸ëœì­ì…˜ ê´€ë¦¬
- ğŸ“Š **Kotest**: Kotlin ì¹œí™”ì  í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

## ğŸ›ï¸ ì•„í‚¤í…ì²˜

### í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì™¸ë¶€ ì‹œìŠ¤í…œ                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   REST API  â”‚                    â”‚  Database   â”‚      â”‚
â”‚  â”‚  (Primary)  â”‚                    â”‚ (Secondary) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                    â–²           â”‚
â”‚         â–¼                                    â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   REST      â”‚                    â”‚     JPA     â”‚      â”‚
â”‚  â”‚  Adapter    â”‚                    â”‚   Adapter   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                    â–²           â”‚
â”‚         â–¼                                    â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Inbound    â”‚                    â”‚  Outbound   â”‚      â”‚
â”‚  â”‚   Ports     â”‚                    â”‚   Ports     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                    â–²           â”‚
â”‚         â–¼                                    â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Application Services                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                             â”‚
â”‚                           â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               Domain Models                         â”‚ â”‚
â”‚  â”‚  Car, ParkingLot, ParkingRecord                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ì›ì¹™

1. **ì˜ì¡´ì„± ì—­ì „**: ë„ë©”ì¸ì´ ì™¸ë¶€ ì‹œìŠ¤í…œì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
2. **í¬íŠ¸ì™€ ì–´ëŒ‘í„°**: ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ì¶”ìƒí™”
3. **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬**: ê° ê³„ì¸µì˜ ë…ë¦½ì ì¸ ì±…ì„

## âš¡ ê¸°ëŠ¥

### í†µí•© ì£¼ì°¨ ê´€ë¦¬
- **ì°¨ëŸ‰ ë“±ë¡ ë° ì£¼ì°¨**: í•œ ë²ˆì˜ API í˜¸ì¶œë¡œ ì°¨ëŸ‰ ë“±ë¡ê³¼ ì£¼ì°¨ ì²˜ë¦¬
- **ì°¨ëŸ‰ ì¶œì°¨ ë° ë“±ë¡ í•´ì œ**: ì¶œì°¨ì™€ ë™ì‹œì— ì‹œìŠ¤í…œì—ì„œ ì°¨ëŸ‰ ì •ë³´ ì œê±°
- **ì£¼ì°¨ì¥ë³„ ì°¨ëŸ‰ ì¡°íšŒ**: íŠ¹ì • ì£¼ì°¨ì¥ì— ì£¼ì°¨ëœ ëª¨ë“  ì°¨ëŸ‰ ì •ë³´ ì¡°íšŒ

### ë„ë©”ì¸ ê¸°ëŠ¥
- **ì°¨ëŸ‰ ê´€ë¦¬**: ë²ˆí˜¸íŒ ê¸°ë°˜ ì°¨ëŸ‰ ë“±ë¡/ì¡°íšŒ/ì‚­ì œ
- **ì£¼ì°¨ì¥ ê´€ë¦¬**: ì£¼ì°¨ì¥ ìƒì„± ë° ê³µê°„ ê´€ë¦¬
- **ì£¼ì°¨ ê¸°ë¡**: ì…ì°¨/ì¶œì°¨ ì‹œê°„ ë° ìƒíƒœ ê´€ë¦¬

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Kotlin** 2.0.0
- **Spring Boot** 3.5.3
- **Spring Data JPA**
- **H2 Database** (ê°œë°œìš©)

### Testing
- **Kotest** 5.8.0
- **MockK** 1.13.8
- **Spring Boot Test**

### Documentation
- **SpringDoc OpenAPI** 2.3.0
- **Swagger UI**

### Build & Tools
- **Gradle** 8.14.2
- **Kotlin Gradle Plugin**

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Java 17 ì´ìƒ
- Gradle 8.0 ì´ìƒ

### ì„¤ì¹˜ ë° ì‹¤í–‰

1. **ì €ì¥ì†Œ í´ë¡ **
   ```bash
   git clone https://github.com/hexagonal-parking/parking-system.git
   cd parking-system
   ```

2. **í”„ë¡œì íŠ¸ ë¹Œë“œ**
   ```bash
   ./gradlew build
   ```

3. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**
   ```bash
   ./gradlew :integrated-parking-app:bootRun
   ```

4. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†**
   - API ì„œë²„: http://localhost:8080
   - Swagger UI: http://localhost:8080/swagger-ui.html
   - H2 Console: http://localhost:8080/h2-console

### Docker ì‹¤í–‰ (ì˜ˆì •)

```bash
docker-compose up -d
```

## ğŸ“š API ë¬¸ì„œ

### Swagger UI
ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í›„ http://localhost:8080/swagger-ui.html ì—ì„œ ëŒ€í™”í˜• API ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### ì°¨ëŸ‰ ë“±ë¡ ë° ì£¼ì°¨
```http
POST /api/integrated/register-and-park
Content-Type: application/json

{
  "licensePlateNumber": "ì„œìš¸ 123 ê°€ 1234",
  "model": "ì†Œë‚˜íƒ€",
  "color": "í°ìƒ‰",
  "parkingLotName": "ê°•ë‚¨ì£¼ì°¨ì¥",
  "totalSpaces": 100
}
```

#### ì°¨ëŸ‰ ì¶œì°¨ ë° ë“±ë¡ í•´ì œ
```http
POST /api/integrated/leave-and-unregister
Content-Type: application/json

{
  "licensePlateNumber": "ì„œìš¸ 123 ê°€ 1234"
}
```

#### ì£¼ì°¨ì¥ë³„ ë“±ë¡ëœ ì°¨ëŸ‰ ì¡°íšŒ
```http
GET /api/integrated/parking-lots/{parkingLotName}/registered-cars
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
./gradlew test
```

### ëª¨ë“ˆë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# Car ë„ë©”ì¸ í…ŒìŠ¤íŠ¸
./gradlew :car:test

# ParkingLot ë„ë©”ì¸ í…ŒìŠ¤íŠ¸  
./gradlew :parking-lot:test

# í†µí•© í…ŒìŠ¤íŠ¸
./gradlew :integration-test:test
```

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
```bash
./gradlew jacocoTestReport
```

### í…ŒìŠ¤íŠ¸ ì² í•™
- **TDD**: ëª¨ë“  ê¸°ëŠ¥ì€ í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ê° ë„ë©”ì¸ ëª¨ë¸ê³¼ ì„œë¹„ìŠ¤ì˜ ë…ë¦½ì  í…ŒìŠ¤íŠ¸
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì „ì²´ ì‹œìŠ¤í…œì˜ End-to-End í…ŒìŠ¤íŠ¸
- **ê³„ì•½ í…ŒìŠ¤íŠ¸**: í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤ì˜ ê³„ì•½ ê²€ì¦

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
hexa-example/
â”œâ”€â”€ car/                           # Car ë„ë©”ì¸
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”œâ”€â”€ domain/               # ë„ë©”ì¸ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ exception/            # ë„ë©”ì¸ ì˜ˆì™¸
â”‚   â”‚   â”œâ”€â”€ port-in/              # ì¸ë°”ìš´ë“œ í¬íŠ¸
â”‚   â”‚   â”œâ”€â”€ port-out/             # ì•„ì›ƒë°”ìš´ë“œ í¬íŠ¸
â”‚   â”‚   â””â”€â”€ service/              # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ adapter-jpa/              # JPA ì–´ëŒ‘í„°
â”‚   â””â”€â”€ adapter-rest/             # REST ì–´ëŒ‘í„°
â”œâ”€â”€ parking-lot/                   # ParkingLot ë„ë©”ì¸
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â””â”€â”€ domain/               # ë„ë©”ì¸ ëª¨ë¸
â”œâ”€â”€ parking-lot-adapter-jpa/      # ParkingLot JPA ì–´ëŒ‘í„°
â”œâ”€â”€ parking-lot-adapter-rest/     # ParkingLot REST ì–´ëŒ‘í„°
â”œâ”€â”€ integrated-parking-app/       # í†µí•© ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ integration-test/              # í†µí•© í…ŒìŠ¤íŠ¸
â”œâ”€â”€ ARCHITECTURE.md               # ì•„í‚¤í…ì²˜ ë¬¸ì„œ
â”œâ”€â”€ TDD-Work-Plan.md             # TDD ì‘ì—… ê³„íš
â””â”€â”€ README.md                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ“ˆ ê°œë°œ ê³¼ì •

ì´ í”„ë¡œì íŠ¸ëŠ” TDD ë°©ë²•ë¡ ì„ ì ìš©í•˜ì—¬ 9ê°œì˜ Phaseë¡œ ë‚˜ëˆ„ì–´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤:

- **Phase 0**: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- **Phase 1-3**: Car ë„ë©”ì¸ êµ¬í˜„ (ë„ë©”ì¸ â†’ í¬íŠ¸ â†’ ì„œë¹„ìŠ¤)
- **Phase 4-5**: Car ì–´ëŒ‘í„° êµ¬í˜„ (JPA â†’ REST)
- **Phase 6**: ParkingLot ë„ë©”ì¸ êµ¬í˜„
- **Phase 7**: ParkingLot ì–´ëŒ‘í„° êµ¬í˜„
- **Phase 8**: í†µí•© ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬í˜„
- **Phase 9**: í†µí•© í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™”

ìì„¸í•œ ê°œë°œ ê³¼ì •ì€ [TDD-Work-Plan.md](TDD-Work-Plan.md)ì™€ [ARCHITECTURE.md](ARCHITECTURE.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### ê°œë°œ ê°€ì´ë“œë¼ì¸

- **TDD**: ëª¨ë“  ìƒˆë¡œìš´ ê¸°ëŠ¥ì€ í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±
- **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜**: ë„ë©”ì¸ê³¼ ì¸í”„ë¼ì˜ ë¶„ë¦¬ ìœ ì§€
- **ì½”ë“œ ìŠ¤íƒ€ì¼**: Kotlin ê³µì‹ ì½”ë”© ì»¨ë²¤ì…˜ ì¤€ìˆ˜
- **ì»¤ë°‹ ë©”ì‹œì§€**: Conventional Commits í˜•ì‹ ì‚¬ìš©

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ì—°ë½ì²˜

- í”„ë¡œì íŠ¸ ë§í¬: [https://github.com/hexagonal-parking/parking-system](https://github.com/hexagonal-parking/parking-system)
- ì´ìŠˆ ë¦¬í¬íŠ¸: [https://github.com/hexagonal-parking/parking-system/issues](https://github.com/hexagonal-parking/parking-system/issues)

---

**í—¥ì‚¬ê³ ë‚  ì£¼ì°¨ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ê¹”ë”í•œ ì•„í‚¤í…ì²˜ì™€ TDDì˜ í˜ì„ ê²½í—˜í•´ë³´ì„¸ìš”! ğŸš—ğŸ¢
